<html>
	<head>
	<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=UTF-8">
	<META HTTP-EQUIV="CACHE-CONTROL" CONTENT="NO-CACHE">
</head>
<body>

<TITLE>Jak poskromić Otwarte Oprogramowanie/Open Source Software?</TITLE>

<h2>Jak poskromić Otwarte Oprogramowanie/Open Source Software?</h2>

Prezentacja z dnia 13.01.2013

<h2>Agenda</h2>
<ul>
	<li>Otwarte Oprogramowanie
	<ul>
		<li>Co to jest Otwarte Oprogramowanie?
		<li>Jak Otwarte Oprogramowanie jest dystrybuowane?
	</ul>
	<li>Czy myślałeś kiedyś dlaczego są setki dystrybucji Linuksa?
	<ul>
		<li>Czym jest dystrybucja Linuksa?
		<li>Różnice pomiędzy dystrybucjami
		<li>Krótki przegląd dystrybucji
		<li>Czy wszystkie pingwiny są przyjazne dzieciom?
	</ul>
	<li>Jak zbudować własną dystrybucję na przykładzie KaNaPi?
	<ul>
		<li>Założenia
		<li>Proces budowania
		<li>Proces uruchamiania
		<li>KaNaPi - statystyka
	</ul>
</ul>

<h2>Otwarte Oprogramowanie </h2>

<h3>Co to jest Otwarte Oprogramowanie? </h3>

Oprogramowamie, które można:
<ul>
	<li>uruchomić w dowolnym celu
	<li>analizować jak działa
	<li>dostosowyć do swoich potrzeb
	<li>rozpowszechniać
	<li>udoskonalać i rozpowszechniać własne ulepszenia
</ul>
<a href="http://pl.wikipedia.org/wiki/Definicja_Wolnego_Oprogramowania">Definicja Wolnego Oprogramowania</a>

<h3>Jak Otwarte Oprogramowanie jest dystrybuowane?</h3>

<ul>
	<li> strona WWW/FTP
	<li> serwisy z Otwartym Oprogramowaniem
	<ul>
		<li><a href="http://sourceforge.net">http://sourceforge.net </a>
		<pre>	
		Today:
		4,225,889 Downloads
		3,434 Code Commits
		4,443 Forum Posts
		166 Bugs Tracked
		Home and Education - 1573 pakietów (Linux), 2000 wszystkie systemy
		</pre>

		<li><a href="http://freecode.com">http://freecode.com</a>
		<pre>
			15671 projects tagged "Linux" 
			10095 projects tagged "C" 
			1011 projects tagged "education"
			1655 projects tagged "JavaScript"
			608 projects tagged "Ruby" 
		</pre>	

		<li><a href="https://github.com">http://github.com</a>
		<pre>
			JavaScript - 21%
			Ruby - 13%
			Python - 8%
			Java - 8%
			Shell - 8%
			PHP - 7%
			C - 6%
			C++ - 4%
			Perl - 4%
			Objective-C - 3%
		</pre>


		<li><a href="http://savannah.gnu.org">http://savannah.gnu.org</a>
		<ul>
			<li>GNU software
			<li><a href="http://savannah.nongnu.org">http://savannah.nongnu.org</a>
			<pre>
			57926 registered users
			3504 hosted projects
			</pre>
		</ul>
		<li><a href="http://gna.org">http://gna.org</a>
		<pre>
			17254 registered users
			1392 hosted projects
		</pre>
		<li><a href="http://sourcewell.berlios.de">http://sourcewell.berlios.de</a>
		<pre>
			[046] Android
			[1099] Console
			[758] Development
			[604] GNOME
			[654] KDE
			[031] Kernel
			[1847] Networking
			[630] X11
		</pre>
		<li><a href="http://code.google.com">http://code.google.com</a>
		<ul>
			<li>946 pakietów
		</ul>
			<li><a href="http://gitorious.org">http://gitorious.org</a>
		<li><a href="http://www.freedesktop.org/wiki">http://www.freedesktop.org/wiki</a>
	</ul>
	<li>repozytoria z kodem źródłowym: cvs, git, mercurial, svn
	<li>paczki ze źródłami:	tar, gzip, bz2, xz, zip
	<li> dystrybucje
</ul>

<h2>Czy myślałeś kiedyś dlaczego są setki dystrybucji Linuksa? </h2>

<h3>Czym jest dystrybucja Linuksa?</h3>
	<img src="Linux-Distribution_en.svg.png" alt="dystrybucja">
<ul>
	<li>kernel
	<li>biblioteki
	<li>aplikacje
	<li>instalator
	<li>narzędzia konfiguracyjne
	<li>gadżety
	<li>ikony, tapety i inne wodotryski
	<li>wsparcie techniczne
	<li>listy dyskusyjne
	<li>systemy śledzenia błędów
	<li>marketing
	<li>dokumentacja
	<li>poprawki
</ul>

<h3> Różnice pomiędzy dystrybucjami</h3>
<ul>
	<li>sposób uruchamiania: z dysku po instalacji, liveCD/DVD, USB
	<li>sposób instalacji
	<li>narzędzia do konfiguracji 
	<li>zarządzanie pakietami w linuksie: deb (apt-get), rpm (yum, zypper, poldek), pacman, tgz
	<li>dostarczane poprawki
	<li>aktualizacja systemu
	<li>ilość pakietów: Debian Mint Romeo (41992), Ubuntu 12.4 (38669), Red Hat 5.2 (300 w 1998 roku)
	<li>kategorie oprogramowania
	<li>filozofia/religia?
</ul>

<h3> Krótki przegląd dystrybucji</h3>
<ul>
	<li><a href="http://distrowatch.com">distrowatch.com - baza informacji o dystrybucjach Linuksa i BSD </a>

	<li>SLS (1992) - jedna z pierwszych dystrybucji 
	<ul>
		<li>Debian (1993) rozwijany przez ochotników z całego świata, wersja stabilna używa tylko dobrze przestowane oprogramowanie
		<ul>
			<li>Ubuntu (2004)- rozwijana przez Canonical
				<ul>
					<li>Mint (2006) - zawiera kodeki, których nie ma w Ubuntu ani Debian
				</ul>
			<li>Knoppix (2000) - LiveCD
		</ul>
		<li>Slackware (1993) - zawiera tylko stabilne oprogramowanie, konfiguracja w trybie tekstowym
	</ul>	
	<li>Red Hat (1994) - jedna z pierwszych dystrybucji, obecnie jest to dystrybucja komercyjna
		<ul>
			<li>Fedora (2007) - poligon Red Hata, zawiera wiele nowinek technicznych 
		</ul>
	<li>SuSe (1994) i OpenSuse (2006)
	<li>PLD (1998) - dystrybucja tworzona w Polsce
	<li>Tiny Core Linux (2009) - mini dystrybucja (10 MB), urządzenia loop
	<li>Arch (2002) - skupiona na najnowszych wersjach oprogramowania, bez dodatkowych patchy,
       		bardzo proste skrypty do kompilacji pakietów
	<li>Gentoo (2002) - kompilacja prawie całego systemu z kodu źródłowego
	<li>Linux from scratch (1999) - dokumentacja, jak zbudować samemu własny system
	<ul>
		<li>Beyond Linux From Scratch - dodatkowe pakiety
		<li>Automated Linux From Scratch
		<li>Cross Linux From Scratch
		<li>Hardened Linux From Scratch - security
	</ul>
	<li>Syllable desktop (2002) - inspirowany architekturą Amiga i BeOS, bazuje na AtheOS
	<li>Syllable server - bez GUI bazujący na kernelu Linuksa
	<li>Haiku (2001) - zainspirowany przez BeOS
	<li>FreeBSD (1993), OpenBSD (1995), NetBSD (1993), PC-BSD (2005), DragonFlyBSD (2003)
	<li><a href="dystrybucje.html">http://en.wikipedia.org/wiki/File:Linux_Distribution_Timeline.svg</a>

</ul>	

<h2>Czy wszystkie pingwiny są przyjazne dzieciom?</h2>

	<img src="pingwin.jpg" alt="pingwin">
<ul>
	<li>Qimo - bazuje na Ubuntu <a href="http://www.qimo4kids.com">http://www.qimo4kids.com</a>
	<br>
	<img src="eskimo.png" alt="qimo">

	<li>Doudolinux - bazuje na Debianie <a href="http://www.doudoulinux.org/web/english/index.html">http://www.doudoulinux.org/web/english/index.html</a>
	<br>
	<img src="doudolinux.jpg" alt="doudolinux">

	<li>Debian Jr.- dla młodszych dzieci <a href="http://www.debian.org/devel/debian-jr">http://www.debian.org/devel/debian-jr</a>
	<br>

	<li>Debian Edu, Skolelinux - Linux dla szkół <a href="http://debian-edu.alioth.debian.org">http://debian-edu.alioth.debian.org</a>
	<br>

	<li>Edubuntu <a href="http://www.edubuntu.org">http://www.edubuntu.org</a>

	<li>Linux Edu-CD - bazuje na PCLinuxOS <a href="http://www.linux-educd.pl">http://www.linux-educd.pl</a>

	<li>SRU - Szkolny Remix Ubuntu <a href="http://wioowszkole.org/SRU">http://wioowszkole.org/SRU</a>

	<li>Freeduc - bazuje na Knoppix <a href="http://www.ofset.org/freeduc-cd">http://www.ofset.org/freeduc-cd</a>

	<li>Trisquel on sugar - bazuje na Ubuntu <a href="http://trisquel.info/en/trisquel-sugar">http://trisquel.info/en/trisquel-sugar</a>
	<br>
	<img src="trisquel.png" alt="trisquel">

	<li>Sugar/OLPC <a href="http://wiki.laptop.org/go/Sugar">http://wiki.laptop.org/go/Sugar</a>
	<br>
	<img src="sugar.png" alt="sugar">

	<li><a href="../kanapi.html">KaNaPi</a>
</ul>

<a href="http://www.lifehack.org/articles/technology/10-more-linux-resources-for-kids.html">Linux dla dzieci</a>

<h2>Jak zbudować własną dystrybucję na przykładzie KaNaPi?</h2>

<h3>Założenia</h3>

<ul>
	<li>KISS (ang. Keep It Simple, Stupid), BUZI (Bez Udziwnień Zapisu, Idioto)
	<li>system do użytku domowego
	<li>interfejs ma być prosty zgodnie z oczekiwaniem dzieci
	<ul>
		<li>XFCE - dla dzieci starszych 
		<li>okno z wybraymi ikonami dla dzieci młodszych
		<li>jeden obszar roboczy
	</ul>
	<li>każdy pakiet jest w oddzielnym katalogu w /kanapi_packages
	<li>mogą być różne wersje tego samego pakietu
	<ul>
		<li>LD_LIBRARY_PATH
		<li>LD_PRELOAD
		<li>LDFLAGS
		<li>-Wl,-dynamic-linker
		<li>-Wl,-rpath
		<li>CFLAGS, CPPFLAGS
		<li>PKG_CONFIG_PATH
		<li>PKG_CONFIG_LIBDIR
		<li>ld.so.conf
	</ul>
	<li>własna struktura katalogów, niezgodna z FHS (Standard Hierarchii Systemu Plików)
	<ul>
		<li>linki do wszystkich plików uruchomieniowych w katalogu /bin
		<li>linki do potrzebnych bibliotek w /kanapi_packages/libs
		<li>skrypty ustawiające ścieżki do bibliotek dla wybranych programów
	</ul>
	<li>brak programu do zarządzania pakietami
	<li>informacja o pakietach za pomocą programu pkg-config
	<li>każdy pakiet kompilowany własnym skryptem
	<pre>
	../../src/${PACKAGE_NAME}-${VER}/configure --prefix=$PREFIX
	make -j 2 MAKEINFO=true
	make -j 2 install MAKEINFO=true
	</pre>
	<li>brak poziomów uruchamiania (runlevels) 
	<ul>
		<li>prosty skrypt startowy <a href="init">/init</a>
		<ul>
			<li>montowanie systemów plików
			<li>ustawienie zmiennych systemowych
			<li>aktywacja interfejsów sieciowych
			<li>udev daemon
			<li>dbus daemon
			<li>inicjalizacja dźwięku - alsa
			<li>uruchomienie X
		</ul>
	</ul>
	<li>brak użytkowników, haseł, wszystko uruchamiane z uprawnieniami administratora
	<li>jeden sposób dodawania nowych programów
	<ul>
		<li>create_scripts nazwa_pakietu wersja strona_www
		<li>skrypt: prepare-wersja
		<li>skrypt: nazwa_pakietu-wersja.compile
	</ul>
</ul>

<h3>Proces budowania</h3>
<ul>
	<li>wymagania
	<ul>
		<li>niezależne środowisko budowania (chroot)
		<li>shell
		<li>kompilator, make, linker
		<li><a href="FBS/build">pozostałe komponenty</a>
		<li><a href="SBS/build">pozostałe komponenty - drugi etap</a>
	</ul>
	<li>standardowa struktura katalogów
	<ul>
		<li>/bin /sbin /usr/bin /usr/sbin
		<li>/boot
		<li>/dev
		<li>/cdrom /mnt /media
		<li>/etc
		<li>/home /root
		<li>/lib /usr/lib
		<li>/proc
		<li>/run
		<li>/sbin
		<li>/sys
		<li>/tmp
		<li>/usr/local /opt
		<li>/var
	</ul>
	<li>struktura katalogów KaNaPi
	<ul>
		<li>/home/kanapi
		<ul>
			<li>sources
			<li>test_system
			<li>first_build_system i second_build_system
			<ul>
				<li>scripts
				<ul>
					<li>binutils
					<ul>
						<li>binutils.compile
						<li>prepare
					</ul>
					<li>...
				</ul>
				<li>builds - środowisko dla chroot
				<ul>
					<li>kanapi_build
					<ul>
						<li>out
						<ul>
							<li>binutils
							<li>...
						</ul>
						<li>src
						<ul>
							<li>binutils
							<li>...
						</ul>
					</ul>
					<li>kanapi_packages
						<ul>
							<li>binutils-2.22.51.20120122
							<li>...
						</ul>
				</ul>
				<li>packages - pliki pakietów *.deb 
			</ul>
		
			<li>kanapi_base_system
			<ul>
				<li>kanapi_system - środowisko dla chroot
				<ul>
					<li>kanapi_build
					<ul>
						<li>out
						<ul>
							<li>Glib-1.262
							<li>...
						</ul>
						<li>src
						<ul>
							<li>Glib-1.262
							<li>...
						</ul>
					</ul>
					<li>kanapi_packages
						<ul>
							<li>Glib-1.262
							<li>...
						</ul>
				</ul>
				<li>scripts
				<ul>
					<li>Glib
					<ul>
						<li>Glib-1.262.compile
						<li>prepare
					</ul>
					<li>...
				</ul>

			</ul>

		</ul>
	</ul>
	<li><a href="FBS/README">pierwszy system buildowy w środowisku chroot</a>
	<li><a href="SBS/steps">drugi system buildowy w środowisku chroot</a>
	<li><a href="KBS/steps">kompilacja dodatkowych pakietów w środowisku KaNaPi</a>
	<li>autotools
	<li>waf
	<li>make
	<li>cmake
	<li>setup.py
	<li>setup.pl
</ul>

<h3>Proces uruchamiania</h3>
<ul>
	<li><a href="USB/README">przygotowanie USB sticka</a>
	<li>start KaNaPI z istniejącego systemu
	<pre>
		BOOT_IMAGE=/boot/vmlinuz-3.5.3 root=/dev/sda2 rw init=/bin/start_kanapi

		/usr/sbin/chroot /home/kanapi/kanapi_base_system/kanapi_system /init
	</pre>
	<li>strace, ltrace
	<li>gdb, cgdb
</ul>
 
<h3>KaNaPi - statystyka</h3>
<ul>
	<li>/kanapi_packages - 4.9 GB
	<li>/kanapi_build/out - 13 GB
	<li>/kanapi_build/src - 7,1 GB
	<li>310 pakietów wybudowanych
	<li>katalog /bin - 1148 linków do komend
	<li>katalog /kanapi_packages/libs - 663 bibliotek
	<li>git - 158 commitów
</ul>
</body>
</html>

